<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Taha's Football 101</title>
<style>
  :root {
    --neon-red: #ff003c;
    --neon-dark: #0a0a0a;
    --font-main: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    --transition-speed: 0.3s;
  }
  * {
    margin: 0; padding: 0; box-sizing: border-box;
  }
  body, html {
    height: 100%;
    font-family: var(--font-main);
    color: white;
    background: var(--neon-dark);
    overflow-x: hidden;
  }
  a {
    color: inherit;
    text-decoration: none;
  }
  a:hover {
    color: var(--neon-red);
  }
  button {
    cursor: pointer;
    background: var(--neon-red);
    border: none;
    padding: 0.5rem 1.2rem;
    color: white;
    font-weight: 700;
    border-radius: 5px;
    transition: background var(--transition-speed);
  }
  button:hover {
    background: #ff1a4d;
  }
  body {
    background: linear-gradient(-45deg, #330000, #440000, #220000, #550000);
    background-size: 400% 400%;
    animation: bgshift 20s ease infinite;
  }
  @keyframes bgshift {
    0% {background-position:0% 50%;}
    50% {background-position:100% 50%;}
    100% {background-position:0% 50%;}
  }

  #intro {
    position: fixed;
    inset: 0;
    background: #000;
    z-index: 9999;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    user-select: none;
  }
  #intro h1 {
    font-size: 3.5rem;
    color: var(--neon-red);
    text-shadow:
      0 0 5px var(--neon-red),
      0 0 20px var(--neon-red),
      0 0 30px #ff4d4d,
      0 0 40px #ff4d4d,
      0 0 60px #ff1a4d,
      0 0 80px #ff1a4d;
    animation: neonPulse 1.5s ease-in-out infinite alternate;
    margin-bottom: 2rem;
  }
  @keyframes neonPulse {
    from {
      text-shadow:
        0 0 10px #ff003c,
        0 0 20px #ff3366,
        0 0 30px #ff6699,
        0 0 40px #ff6699,
        0 0 50px #ff3366,
        0 0 60px #ff003c;
    }
    to {
      text-shadow:
        0 0 20px #ff6699,
        0 0 40px #ff3366,
        0 0 60px #ff003c,
        0 0 80px #ff003c,
        0 0 100px #ff3366,
        0 0 120px #ff6699;
    }
  }
  .intro-boots {
    display: flex;
    gap: 1.5rem;
  }
  .intro-boots img {
    width: 90px;
    filter: drop-shadow(0 0 5px var(--neon-red));
    animation: floatUpDown 3s ease-in-out infinite alternate;
  }
  .intro-boots img:nth-child(2) {
    animation-delay: 0.3s;
  }
  .intro-boots img:nth-child(3) {
    animation-delay: 0.6s;
  }
  @keyframes floatUpDown {
    0% {transform: translateY(0);}
    100% {transform: translateY(-15px);}
  }

  nav {
    position: sticky;
    top: 0;
    background: rgba(10, 10, 10, 0.9);
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1rem 2rem;
    z-index: 1000;
    box-shadow: 0 0 20px var(--neon-red);
  }
  nav .logo {
    font-weight: 900;
    font-size: 1.8rem;
    color: var(--neon-red);
    text-shadow: 0 0 10px var(--neon-red);
    user-select: none;
  }
  nav ul {
    display: flex;
    list-style: none;
    gap: 1.5rem;
  }
  nav ul li {
    font-weight: 700;
    font-size: 1rem;
  }
  nav ul li a {
    transition: color 0.3s;
  }
  nav ul li a:hover,
  nav ul li a.active {
    color: #ff4d4d;
    text-shadow: 0 0 8px #ff4d4d;
  }

  main {
    padding: 3rem 2rem 6rem;
    max-width: 1200px;
    margin: 0 auto;
  }
  section {
    margin-bottom: 4rem;
    display: none;
  }
  section.active {
    display: block;
  }
  h2 {
    font-size: 2.5rem;
    margin-bottom: 1.5rem;
    color: var(--neon-red);
    text-shadow: 0 0 15px var(--neon-red);
  }

  /* HOME */
  #home {
    height: 70vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    font-size: 4rem;
    color: white;
    position: relative;
    user-select: none;
    text-align: center;
  }
  #home::before {
    content: "";
    position: absolute;
    inset: 0;
    background: url("https://cdn-icons-png.flaticon.com/512/3039/3039439.png") no-repeat center center / contain;
    opacity: 0.05;
    pointer-events: none;
  }
  #home span.main-welcome {
    position: relative;
    text-shadow:
      0 0 10px #ff003c,
      0 0 20px #ff3366,
      0 0 40px #ff3366,
      0 0 80px #ff003c;
  }
  #home p.welcome-sub {
    margin-top: 1rem;
    font-size: 1.4rem;
    max-width: 600px;
    font-weight: 600;
    color: #ff4d4d;
    text-shadow: 0 0 8px #ff003c;
  }
  #home .boot-bg {
    position: absolute;
    width: 80px;
    opacity: 0.1;
    animation: floatUpDown 4s ease-in-out infinite alternate;
  }
  #home .boot1 { top: 10%; left: 15%; animation-delay: 0s; }
  #home .boot2 { top: 20%; right: 10%; animation-delay: 1s; }
  #home .boot3 { bottom: 15%; left: 25%; animation-delay: 2s; }
  #home .boot4 { bottom: 20%; right: 20%; animation-delay: 3s; }
  #home .boot5 { top: 40%; left: 50%; animation-delay: 4s; }

  /* PRODUCTS GRID */
  .products {
    display: grid;
    grid-template-columns: repeat(auto-fit,minmax(260px,1fr));
    gap: 2rem;
  }
  .product-card {
    background: #1a1a1a;
    border-radius: 12px;
    padding: 1rem;
    box-shadow: 0 0 20px rgba(255, 0, 60, 0.5);
    display: flex;
    flex-direction: column;
    align-items: center;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }
  .product-card:hover {
    transform: scale(1.05);
    box-shadow: 0 0 35px rgba(255, 0, 60, 0.85);
  }
  .product-card img {
    width: 100%;
    border-radius: 10px;
    margin-bottom: 1rem;
    box-shadow: 0 0 15px rgba(255, 0, 60, 0.6);
  }
  .product-card h3 {
    margin-bottom: 0.3rem;
    font-size: 1.25rem;
    color: #ff4d4d;
    text-align: center;
  }
  .product-card p {
    margin-bottom: 0.6rem;
    font-weight: 700;
    font-size: 1.1rem;
  }
  .product-card select {
    margin-bottom: 1rem;
    padding: 0.4rem 0.6rem;
    border-radius: 6px;
    border: none;
    font-weight: 700;
    background: #330000;
    color: white;
    box-shadow: 0 0 8px #ff003c;
  }
  .product-card button {
    width: 100%;
  }

  /* CART */
  #cart-items {
    max-height: 320px;
    overflow-y: auto;
    margin-bottom: 1rem;
  }
  .cart-item {
    background: #220000;
    padding: 0.8rem 1rem;
    border-radius: 8px;
    margin-bottom: 0.8rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    box-shadow: 0 0 8px #ff003c;
  }
  .cart-item-info {
    flex: 1;
  }
  .cart-item-info strong {
    color: #ff3366;
  }
  .cart-item-qty {
    margin-left: 1rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }
  .cart-item-qty button {
    background: #ff1a4d;
    font-weight: 900;
    padding: 0.15rem 0.4rem;
    border-radius: 4px;
    user-select: none;
  }
  #cart-total {
    font-size: 1.6rem;
    font-weight: 900;
    margin-bottom: 1.5rem;
    color: #ff1a4d;
  }
  #checkout-form {
    background: #1a0000;
    padding: 1.5rem;
    border-radius: 10px;
    box-shadow: 0 0 25px #ff003c;
  }
  #checkout-form input {
    width: 100%;
    padding: 0.6rem;
    margin-bottom: 1rem;
    border-radius: 6px;
    border: none;
    font-weight: 700;
    font-size: 1rem;
  }
  #checkout-form input:focus {
    outline: 2px solid #ff003c;
    background: #330000;
    color: white;
  }
  #checkout-form button {
    width: 100%;
    font-size: 1.1rem;
  }

  /* CONTACT */
  #contact .contact-info {
    font-size: 1.8rem;
    font-weight: 900;
    line-height: 2.2;
    color: #ff4d4d;
    text-shadow: 0 0 15px #ff003c;
  }

  /* REVIEWS */
  #reviews {
    max-width: 900px;
    margin: 0 auto;
  }
  .review-card {
    background: #1a1a1a;
    padding: 1rem 1.2rem;
    margin-bottom: 1rem;
    border-radius: 12px;
    box-shadow: 0 0 20px rgba(255, 0, 60, 0.5);
  }
  .reviewer-name {
    font-weight: 900;
    color: #ff4d4d;
    font-size: 1.2rem;
    margin-bottom: 0.3rem;
  }
  .review-stars {
    color: #ff003c;
    font-size: 1.1rem;
    margin-bottom: 0.5rem;
  }
  .review-text {
    font-size: 1rem;
    font-style: italic;
  }

  /* REVIEW FORM */
  #review-form {
    background: #220000;
    padding: 1.5rem;
    border-radius: 10px;
    box-shadow: 0 0 20px #ff003c;
    margin-bottom: 2rem;
  }
  #review-form label {
    display: block;
    margin-bottom: 0.3rem;
    font-weight: 700;
    color: #ff4d4d;
  }
  #review-form input[type="text"],
  #review-form textarea {
    width: 100%;
    padding: 0.6rem;
    margin-bottom: 1rem;
    border-radius: 6px;
    border: none;
    font-weight: 700;
    font-size: 1rem;
    background: #330000;
    color: white;
    box-shadow: 0 0 8px #ff003c inset;
  }
  #review-form textarea {
    resize: vertical;
    min-height: 80px;
  }
  #review-form input[type="text"]:focus,
  #review-form textarea:focus {
    outline: 2px solid #ff003c;
  }
  .star-rating {
    display: flex;
    gap: 5px;
    margin-bottom: 1rem;
  }
  .star-rating button {
    font-size: 2rem;
    background: none;
    border: none;
    color: #555;
    cursor: pointer;
    transition: color 0.3s;
  }
  .star-rating button.selected,
  .star-rating button:hover,
  .star-rating button:hover ~ button {
    color: #ff003c;
  }

  /* RESPONSIVE */
  @media (max-width: 600px) {
    nav ul {
      gap: 0.8rem;
    }
    nav .logo {
      font-size: 1.3rem;
    }
    #home {
      font-size: 2.4rem;
    }
    h2 {
      font-size: 2rem;
    }
  }
</style>
</head><body>

<!-- INTRO SCREEN -->
<div id="intro">
  <h1>Taha's Football 101</h1>
  <div class="intro-boots">
    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/8/8b/Soccer_boot_icon.png/512px-Soccer_boot_icon.png" alt="Boot 1" />
    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/8/8b/Soccer_boot_icon.png/512px-Soccer_boot_icon.png" alt="Boot 2" />
    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/8/8b/Soccer_boot_icon.png/512px-Soccer_boot_icon.png" alt="Boot 3" />
  </div>
</div>

<!-- NAVIGATION -->
<nav>
  <div class="logo">Taha's Football 101</div>
  <ul id="nav-links">
    <li><a href="#" data-target="home" class="active">Home</a></li>
    <li><a href="#" data-target="boots">Boots</a></li>
    <li><a href="#" data-target="jerseys">Jerseys</a></li>
    <li><a href="#" data-target="balls">Balls</a></li>
    <li><a href="#" data-target="reviews">Reviews</a></li>
    <li><a href="#" data-target="contact">Contact</a></li>
    <li><a href="#" data-target="cart">Cart (<span id="cart-count">0</span>)</a></li>
  </ul>
</nav>

<!-- MAIN CONTENT -->
<main>
  <!-- HOME -->
  <section id="home" class="active" aria-label="Home page">
    <span class="main-welcome">Welcome</span>
    <p class="welcome-sub">Welcome to the best store in whole of Australia, with everything you need to purchase whatever you desire</p>
    <img src="https://cdn-icons-png.flaticon.com/512/3039/3039439.png" alt="Boot" class="boot-bg boot1" />
    <img src="https://cdn-icons-png.flaticon.com/512/3039/3039439.png" alt="Boot" class="boot-bg boot2" />
    <img src="https://cdn-icons-png.flaticon.com/512/3039/3039439.png" alt="Boot" class="boot-bg boot3" />
    <img src="https://cdn-icons-png.flaticon.com/512/3039/3039439.png" alt="Boot" class="boot-bg boot4" />
    <img src="https://cdn-icons-png.flaticon.com/512/3039/3039439.png" alt="Boot" class="boot-bg boot5" />
  </section>

  <!-- BOOTS -->
  <section id="boots" aria-label="Boots for sale">
    <h2>Boots</h2>
    <div class="products" id="boots-list"></div>
  </section>

  <!-- JERSEYS -->
  <section id="jerseys" aria-label="Jerseys for sale">
    <h2>Jerseys</h2>
    <div class="products" id="jerseys-list"></div>
  </section>

  <!-- BALLS -->
  <section id="balls" aria-label="Balls for sale">
    <h2>Balls</h2>
    <div class="products" id="balls-list"></div>
  </section>

  <!-- REVIEWS -->
  <section id="reviews" aria-label="Customer Reviews">
    <h2>Customer Reviews</h2>

    <form id="review-form" aria-label="Submit a review">
      <label for="reviewer-name">Name:</label>
      <input type="text" id="reviewer-name" name="reviewer-name" required placeholder="Your name" />

      <label for="star-rating">Rating:</label>
      <div class="star-rating" role="radiogroup" aria-label="Star rating">
        <button type="button" data-star="1" aria-label="1 star">&#9733;</button>
        <button type="button" data-star="2" aria-label="2 stars">&#9733;</button>
        <button type="button" data-star="3" aria-label="3 stars">&#9733;</button>
        <button type="button" data-star="4" aria-label="4 stars">&#9733;</button>
        <button type="button" data-star="5" aria-label="5 stars">&#9733;</button>
      </div>

      <label for="review-text">Review:</label>
      <textarea id="review-text" name="review-text" required placeholder="Write your review here..."></textarea>

      <button type="submit">Submit Review</button>
    </form>

    <div id="reviews-list" aria-live="polite" aria-relevant="additions"></div>
  </section>

  <!-- CONTACT -->
  <section id="contact" aria-label="Contact Information">
    <h2>Contact</h2>
    <div class="contact-info">
      Email: contact@football101.com.au<br />
      Phone: +61 412 345 678<br />
      Address: 123 Soccer St, Sydney, Australia<br />
    </div>
  </section>

  <!-- CART -->
  <section id="cart" aria-label="Shopping Cart">
    <h2>Your Cart</h2>
    <div id="cart-items"></div>
    <div id="cart-total">Total: $0.00</div>
    <form id="checkout-form" aria-label="Checkout form">
      <input type="text" id="fullname" name="fullname" placeholder="Full Name" required />
      <input type="email" id="email" name="email" placeholder="Email Address" required />
      <button type="submit">Checkout</button>
    </form>
  </section>
</main>

<script>
  // INTRO SCREEN FADE OUT
  window.onload = () => {
    setTimeout(() => {
      document.getElementById('intro').style.opacity = '0';
      setTimeout(() => {
        document.getElementById('intro').style.display = 'none';
      }, 1000);
    }, 2500);
  };

  // NAVIGATION SWITCHER
  const navLinks = document.querySelectorAll('#nav-links a');
  const sections = document.querySelectorAll('main section');

  navLinks.forEach(link => {
    link.addEventListener('click', e => {
      e.preventDefault();
      const target = link.getAttribute('data-target');

      sections.forEach(sec => {
        sec.classList.remove('active');
        if (sec.id === target) sec.classList.add('active');
      });

      navLinks.forEach(l => l.classList.remove('active'));
      link.classList.add('active');
    });
  });

  // PRODUCTS DATA
  const boots = [
    { id: 'boot1', name: 'Nike Phantom GX 2 Club', price: 79.99, img: 'https://www.rebelsport.com.au/on/demandware.static/-/Sites-master-catalog/default/dwc665d58e/images/hi-res/M69570901.jpg' },
    { id: 'boot2', name: 'Nike Phantom 6 Low Elite LV8 FG', price: 249.99, img: 'https://www.rebelsport.com.au/on/demandware.static/-/Sites-master-catalog/default/dw0661a730/images/hi-res/M71357201.jpg' },
    { id: 'boot3', name: 'Adidas Predator Edge FG', price: 219.95, img: 'https://assets.adidas.com/images/w_600,f_auto,q_auto/0f50783d8045443b9173adad010c2f88_9366/Predator_Edge_FG_Shoes_White_GZ0424_01_standard.jpg' }
  ];
  const jerseys = [
    { id: 'jersey1', name: 'Manchester United Home Jersey', price: 120.00, sizes: ['S', 'M', 'L', 'XL'], img: 'https://assets.manutd.com/AssetPicker/images/0/0/14/108322014/108322014_w1200h1200.jpg' },
    { id: 'jersey2', name: 'Arsenal Away Jersey', price: 110.00, sizes: ['S', 'M', 'L', 'XL'], img: 'https://cdn.shopify.com/s/files/1/0285/9512/0009/products/arsenal-kit-22-23-16_f496a5b2-6bdf-46a6-9afc-04ec8f6eb31b_1000x.jpg' },
    { id: 'jersey3', name: 'Chelsea Third Jersey', price: 115.00, sizes: ['S', 'M', 'L', 'XL'], img: 'https://cdn.shopify.com/s/files/1/0275/9491/7562/products/Chelsea-Third-Kit_1200x.jpg' }
  ];
  const balls = [
    { id: 'ball1', name: 'Nike Flight Soccer Ball', price: 49.99, img: 'https://static.nike.com/a/images/c_limit,w_592,f_auto/t_product_v1/7b96b2f8-41f7-4176-8a66-f3c7a476d2c3/nike-flight-soccer-ball-HzPQXF.jpg' },
    { id: 'ball2', name: 'Adidas Uniforia League', price: 59.99, img: 'https://assets.adidas.com/images/w_600,f_auto,q_auto/3b667b7799c0485f839aad3900a54c18_9366/Uniforia_League_Ball_Black_FY2190_01_standard.jpg' },
    { id: 'ball3', name: 'Puma Team Final 21.5', price: 44.99, img: 'https://images.puma.com/image/upload/f_auto,q_auto,b_rgb:fafafa/global/083775/03/sv01/fnd/EEA/fmt/png' }
  ];

  // RENDER PRODUCTS FUNCTION
  function renderProducts(containerId, products, withSize = false) {
    const container = document.getElementById(containerId);
    container.innerHTML = '';
    products.forEach(product => {
      const card = document.createElement('div');
      card.classList.add('product-card');
      card.innerHTML = `
        <img src="${product.img}" alt="${product.name}" />
        <h3>${product.name}</h3>
        <p>$${product.price.toFixed(2)}</p>
        ${withSize ? `<select aria-label="Select size for ${product.name}" data-product-id="${product.id}">
          ${product.sizes.map(s => `<option value="${s}">${s}</option>`).join('')}
        </select>` : ''}
        <button data-product-id="${product.id}">Add to Cart</button>
      `;
      container.appendChild(card);
    });
  }

  renderProducts('boots-list', boots);
  renderProducts('jerseys-list', jerseys, true);
  renderProducts('balls-list', balls);

  // CART LOGIC
  let cart = JSON.parse(localStorage.getItem('cart')) || [];

  function saveCart() {
    localStorage.setItem('cart', JSON.stringify(cart));
    updateCartCount();
    renderCartItems();
  }
  function updateCartCount() {
    document.getElementById('cart-count').textContent = cart.reduce((acc, item) => acc + item.quantity, 0);
  }
  function renderCartItems() {
    const container = document.getElementById('cart-items');
    container.innerHTML = '';
    if (cart.length === 0) {
      container.textContent = 'Your cart is empty.';
      document.getElementById('cart-total').textContent = 'Total: $0.00';
      return;
    }
    let total = 0;
    cart.forEach(item => {
      const product = [...boots, ...jerseys, ...balls].find(p => p.id === item.id);
      if (!product) return;
      total += product.price * item.quantity;
      const div = document.createElement('div');
      div.classList.add('cart-item');
      div.innerHTML = `
        <div class="cart-item-info">
          <strong>${product.name}</strong> ${item.size ? '(' + item.size + ')' : ''}
          <br />$${product.price.toFixed(2)} x ${item.quantity}
        </div>
        <div class="cart-item-qty">
          <button aria-label="Decrease quantity for ${product.name}" data-id="${item.id}" data-action="decrease">-</button>
          <button aria-label="Increase quantity for ${product.name}" data-id="${item.id}" data-action="increase">+</button>
          <button aria-label="Remove ${product.name} from cart" data-id="${item.id}" data-action="remove" style="color:#ff003c; font-weight:900;">x</button>
        </div>
      `;
      container.appendChild(div);
    });
    document.getElementById('cart-total').textContent = `Total: $${total.toFixed(2)}`;
  }

  // ADD TO CART BUTTONS
  document.querySelectorAll('.product-card button').forEach(btn => {
    btn.addEventListener('click', () => {
      const id = btn.getAttribute('data-product-id');
      let size = null;
      if (btn.previousElementSibling && btn.previousElementSibling.tagName === 'SELECT') {
        size = btn.previousElementSibling.value;
      }
      const existingIndex = cart.findIndex(i => i.id === id && i.size === size);
      if (existingIndex !== -1) {
        cart[existingIndex].quantity++;
      } else {
        cart.push({ id, quantity: 1, size });
      }
      saveCart();
      alert('Added to cart!');
    });
  });

  // CART ITEM BUTTONS (INCREASE, DECREASE, REMOVE)
  document.getElementById('cart-items').addEventListener('click', e => {
    if (!e.target.matches('button')) return;
    const id = e.target.getAttribute('data-id');
    const action = e.target.getAttribute('data-action');
    if (!id || !action) return;

    const idx = cart.findIndex(i => i.id === id);
    if (idx === -1) return;

    if (action === 'increase') {
      cart[idx].quantity++;
    } else if (action === 'decrease') {
      cart[idx].quantity--;
      if (cart[idx].quantity <= 0) cart.splice(idx, 1);
    } else if (action === 'remove') {
      cart.splice(idx, 1);
    }
    saveCart();
  });

  // CHECKOUT FORM SUBMISSION
  document.getElementById('checkout-form').addEventListener('submit', e => {
    e.preventDefault();
    if (cart.length === 0) {
      alert('Your cart is empty.');
      return;
    }
    alert(`Thank you for your purchase, ${e.target.fullname.value}!`);
    cart = [];
    saveCart();
    e.target.reset();
    // Go back to home after purchase
    document.querySelector('nav ul li a[data-target="home"]').click();
  });

  // REVIEWS FUNCTIONALITY
  const reviewForm = document.getElementById('review-form');
  const reviewsList = document.getElementById('reviews-list');
  const starButtons = reviewForm.querySelectorAll('.star-rating button');
  let currentStarRating = 0;

  function renderStars(rating) {
    let stars = '';
    for(let i=1; i<=5; i++) {
      stars += i <= rating ? '&#9733;' : '&#9734;';
    }
    return stars;
  }

  function displayReviews() {
    const reviews = JSON.parse(localStorage.getItem('reviews') || '[]');
    if(reviews.length === 0) {
      reviewsList.innerHTML = '<p>No reviews yet. Be the first to review!</p>';
      return;
    }
    reviewsList.innerHTML = '';
    reviews.forEach(r => {
      const div = document.createElement('div');
      div.classList.add('review-card');
      div.innerHTML = `
        <div class="reviewer-name">${escapeHTML(r.name)}</div>
        <div class="review-stars">${renderStars(r.rating)}</div>
        <div class="review-text">${escapeHTML(r.text)}</div>
      `;
      reviewsList.appendChild(div);
    });
  }
  function escapeHTML(text) {
    const div = document.createElement('div');
    div.textContent = text;
    return div.innerHTML;
  }

  // Star rating buttons logic
  starButtons.forEach(btn => {
    btn.addEventListener('click', () => {
      currentStarRating = parseInt(btn.getAttribute('data-star'));
      starButtons.forEach(b => {
        b.classList.toggle('selected', parseInt(b.getAttribute('data-star')) <= currentStarRating);
      });
    });
  });

  // Submit review form
  reviewForm.addEventListener('submit', e => {
    e.preventDefault();
    const name = e.target['reviewer-name'].value.trim();
    const text = e.target['review-text'].value.trim();
    if (currentStarRating === 0) {
      alert('Please select a star rating.');
      return;
    }
    if (!name || !text) {
      alert('Please fill out all fields.');
      return;
    }

    const reviews = JSON.parse(localStorage.getItem('reviews') || '[]');
    reviews.push({ name, rating: currentStarRating, text });
    localStorage.setItem('reviews', JSON.stringify(reviews));

    e.target.reset();
    currentStarRating = 0;
    starButtons.forEach(b => b.classList.remove('selected'));
    displayReviews();
    alert('Thank you for your review!');
  });

  // Initial render
  displayReviews();
  saveCart();
</script>

</body></html>
